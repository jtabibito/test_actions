{"version":3,"file":"NavigationGizmo.js","sources":["../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_assert_this_initialized.js","../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_array_like_to_array.js","../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_unsupported_iterable_to_array.js","../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_create_for_of_iterator_helper_loose.js","../../src/NavigationGizmo.ts"],"sourcesContent":["export function _assert_this_initialized(self) {\n    if (self === void 0) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n\n    return self;\n}\nexport { _assert_this_initialized as _ };\n","export function _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n}\nexport { _array_like_to_array as _ };\n","import { _array_like_to_array } from \"./_array_like_to_array.js\";\n\nexport function _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\nexport { _unsupported_iterable_to_array as _ };\n","import { _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\n\nexport function _create_for_of_iterator_helper_loose(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n\n    if (it) return (it = it.call(o)).next.bind(it);\n    // Fallback for engines without symbol support\n    if (Array.isArray(o) || (it = _unsupported_iterable_to_array(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n\n        var i = 0;\n\n        return function() {\n            if (i >= o.length) return { done: true };\n\n            return { done: false, value: o[i++] };\n        };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _create_for_of_iterator_helper_loose as _ };\n","import {\n  Camera,\n  CameraClearFlags,\n  Color,\n  Entity,\n  Font,\n  FontStyle,\n  Layer,\n  Material,\n  MeshRenderer,\n  Script,\n  SphereColliderShape,\n  StaticCollider,\n  TextHorizontalAlignment,\n  TextRenderer,\n  Vector2,\n  Vector3\n} from \"@galacean/engine\";\nimport { EndScript } from \"./EndScript\";\nimport { SphereScript } from \"./SphereScript\";\nimport { Utils } from \"./Utils\";\n\nfunction traverseEntity(entity: Entity, callback: (entity: Entity) => any) {\n  callback(entity);\n  for (const child of entity.children) {\n    traverseEntity(child, callback);\n  }\n}\n\nexport class NavigationGizmo extends Script {\n  private _sceneCamera: Camera;\n  private _gizmoLayer: Layer = Layer.Layer30;\n\n  private _gizmoCamera: Camera;\n  private _gizmoEntity: Entity;\n  private _utils: Utils;\n  private _target: Vector3 = new Vector3();\n\n  private _sphereScript: SphereScript;\n  private _endScript = {\n    X: EndScript,\n    Y: EndScript,\n    Z: EndScript,\n    \"-X\": EndScript,\n    \"-Y\": EndScript,\n    \"-Z\": EndScript\n  };\n\n  /**\n   * @position - gizmo position, the left upper point of the gizmo area, default (0, 0).\n   * Normalized expression, the upper left corner is (0, 0), and the lower right corner is (1, 1).\n   */\n  public position: Vector2 = new Vector2(0, 0);\n\n  /**\n   * @size gizmo size, the length and width of the gizmo area, default (0.12,0.12).\n   */\n  public size: Vector2 = new Vector2(0.12, 0.12);\n\n  /** scene camera\n   * @return current scene camera\n   */\n  get camera(): Camera {\n    return this._sceneCamera;\n  }\n\n  set camera(camera: Camera) {\n    let sceneCamera = this._sceneCamera;\n    if (sceneCamera !== camera) {\n      if (camera) {\n        sceneCamera = this._sceneCamera = camera;\n        this._sphereScript.camera = camera;\n        Object.keys(this._endScript).forEach((key) => {\n          this._endScript[key].camera = camera;\n        });\n      } else {\n        throw new Error(\"navigation gizmo needs scene camera\");\n      }\n    }\n  }\n\n  /**\n   * target point for gizmo, default (0,0,0)\n   * @return target point\n   */\n  get target(): Vector3 {\n    return this._target;\n  }\n\n  set target(value: Vector3) {\n    if (value !== this._target) {\n      this._target.copyFrom(value);\n    }\n  }\n\n  /**\n   * gizmo layer, default Layer30\n   */\n  get layer(): Layer {\n    return this._gizmoLayer;\n  }\n\n  set layer(layer: Layer) {\n    if (this._gizmoLayer !== layer) {\n      this._gizmoLayer = layer;\n      this._gizmoCamera.cullingMask = layer;\n\n      traverseEntity(this._gizmoEntity, (entity) => {\n        entity.layer = layer;\n      });\n    }\n  }\n\n  /**\n   * @return gizmo camera's priority, larger than any other camera in scene, default 100\n   */\n  get priority(): number {\n    return this._gizmoCamera.priority;\n  }\n\n  set priority(priority: number) {\n    this._gizmoCamera.priority = priority;\n  }\n\n  constructor(entity: Entity) {\n    super(entity);\n    if (!entity.engine.physicsManager) {\n      throw new Error(\"PhysicsManager is not initialized\");\n    }\n\n    this._utils = new Utils(this.engine);\n\n    this._gizmoEntity = entity.createChild(\"navigation-gizmo\");\n    this._gizmoEntity.layer = this._gizmoLayer;\n\n    const gizmoCameraEntity = this._gizmoEntity.createChild(\"gizmo-camera\");\n    gizmoCameraEntity.transform.setPosition(0, 0, 10);\n\n    const gizmoCamera = gizmoCameraEntity.addComponent(Camera);\n    gizmoCamera.isOrthographic = true;\n    gizmoCamera.cullingMask = this._gizmoLayer;\n    gizmoCamera.clearFlags = CameraClearFlags.Depth;\n    gizmoCamera.priority = 100;\n    this._gizmoCamera = gizmoCamera;\n\n    this._createGizmo();\n\n    this._setTarget = this._setTarget.bind(this);\n    //@ts-ignore\n    this._target._onValueChanged = this._setTarget;\n  }\n\n  override onUpdate() {\n    this._gizmoCamera.viewport.set(this.position.x, this.position.y, this.size.x, this.size.y);\n  }\n\n  private _createGizmo() {\n    const utils = this._utils;\n    // setup gizmo shape\n    const directionEntity = this._gizmoEntity.createChild(\"direction\");\n    const axisEntity = directionEntity.createChild(\"axis\");\n\n    // axis\n    const axisXEntity = axisEntity.createChild(\"x\");\n    const axisYEntity = axisEntity.createChild(\"y\");\n    const axisZEntity = axisEntity.createChild(\"z\");\n\n    this._createAxis(axisXEntity, utils.xRotateVector, utils.xTranslateVector, utils.redMaterial);\n    this._createAxis(axisYEntity, utils.yRotateVector, utils.yTranslateVector, utils.greenMaterial);\n    this._createAxis(axisZEntity, utils.zRotateVector, utils.zTranslateVector, utils.blueMaterial);\n\n    // end\n    const endEntity = directionEntity.createChild(\"end\");\n\n    const endXEntity = endEntity.createChild(\"x\");\n    const endYEntity = endEntity.createChild(\"y\");\n    const endZEntity = endEntity.createChild(\"z\");\n\n    this._createEnd(endXEntity, utils.xEndTranslateVector, utils.redMaterial, \"X\", new Color(1.0, 0.25, 0.25, 1.0));\n    this._createEnd(endYEntity, utils.yEndTranslateVector, utils.greenMaterial, \"Y\", new Color(0.5, 0.8, 0.2, 1.0));\n    this._createEnd(endZEntity, utils.zEndTranslateVector, utils.blueMaterial, \"Z\", new Color(0.3, 0.5, 1.0, 1.0));\n\n    const endNegativeXEntity = endEntity.createChild(\"-x\");\n    const endNegativeYEntity = endEntity.createChild(\"-y\");\n    const endNegativeZEntity = endEntity.createChild(\"-z\");\n\n    this._createEnd(\n      endNegativeXEntity,\n      utils.xEndTranslateVector.negate(),\n      utils.greyMaterial,\n      \"-X\",\n      new Color(1, 1, 1, 0)\n    );\n    this._createEnd(\n      endNegativeYEntity,\n      utils.yEndTranslateVector.negate(),\n      utils.greyMaterial,\n      \"-Y\",\n      new Color(1, 1, 1, 0)\n    );\n    this._createEnd(\n      endNegativeZEntity,\n      utils.zEndTranslateVector.negate(),\n      utils.greyMaterial,\n      \"-Z\",\n      new Color(1, 1, 1, 0)\n    );\n\n    // sphere behind\n    const sphereEntity = this._gizmoEntity.createChild(\"sphere\");\n    sphereEntity.transform.setPosition(0, 0, -(utils.radius + 0.5));\n\n    const sphereCollider = sphereEntity.addComponent(StaticCollider);\n    const sphereColliderShape = new SphereColliderShape();\n    sphereColliderShape.radius = utils.radius;\n    sphereCollider.addShape(sphereColliderShape);\n\n    const roundEntity = sphereEntity.createChild(\"round\");\n    const roundRenderer = roundEntity.addComponent(MeshRenderer);\n    roundRenderer.receiveShadows = false;\n    roundRenderer.castShadows = false;\n    roundRenderer.mesh = utils.bgMesh;\n    roundRenderer.setMaterial(utils.bgMaterial);\n    roundEntity.isActive = false;\n\n    this._sphereScript = sphereEntity.addComponent(SphereScript);\n  }\n\n  private _createAxis(entity: Entity, rotation: Vector3, position: Vector3, material: Material) {\n    entity.transform.setRotation(rotation.x, rotation.y, rotation.z);\n    entity.transform.setPosition(position.x, position.y, position.z);\n\n    const axisXRenderer = entity.addComponent(MeshRenderer);\n    axisXRenderer.receiveShadows = false;\n    axisXRenderer.castShadows = false;\n    axisXRenderer.mesh = this._utils.axisMesh;\n    axisXRenderer.setMaterial(material);\n  }\n\n  private _createEnd(entity: Entity, position: Vector3, material: Material, axisName: string, fontColor: Color) {\n    const utils = this._utils;\n\n    entity.transform.setPosition(position.x, position.y, position.z);\n\n    const sphereCollider = entity.addComponent(StaticCollider);\n    const colliderShape = new SphereColliderShape();\n    colliderShape.radius = utils.endRadius;\n    sphereCollider.addShape(colliderShape);\n\n    const renderEntity = entity.createChild(\"back\");\n    const axisRenderer = renderEntity.addComponent(MeshRenderer);\n    axisRenderer.receiveShadows = false;\n    axisRenderer.castShadows = false;\n    axisRenderer.mesh = utils.endMesh;\n    axisRenderer.setMaterial(material);\n    renderEntity.isActive = false;\n\n    const textEntity = entity.createChild(\"text\");\n    textEntity.transform.setPosition(0, 0, 0.05);\n    const axisXTextRenderer = textEntity.addComponent(TextRenderer);\n    axisXTextRenderer.receiveShadows = false;\n    axisXTextRenderer.castShadows = false;\n    axisXTextRenderer.font = Font.createFromOS(this.engine, \"Arial\");\n    axisXTextRenderer.text = axisName;\n    axisXTextRenderer.fontStyle = FontStyle.Bold;\n    axisXTextRenderer.fontSize = 200;\n\n    axisXTextRenderer.color.copyFrom(fontColor);\n    axisXTextRenderer.horizontalAlignment = TextHorizontalAlignment.Center;\n\n    this._endScript[axisName] = entity.addComponent(EndScript);\n  }\n\n  private _setTarget(): void {\n    this._sphereScript.target.copyFrom(this._target);\n    Object.keys(this._endScript).forEach((key) => {\n      this._endScript[key].target.copyFrom(this._target);\n    });\n  }\n}\n"],"names":["traverseEntity","entity","callback","children","child","NavigationGizmo","_gizmoLayer","Layer","Layer30","_target","Vector3","_endScript","X","EndScript","Y","Z","position","Vector2","size","engine","physicsManager","Error","_utils","Utils","_gizmoEntity","createChild","layer","gizmoCameraEntity","transform","setPosition","gizmoCamera","addComponent","Camera","isOrthographic","cullingMask","clearFlags","CameraClearFlags","Depth","priority","_gizmoCamera","_createGizmo","_setTarget","bind","_onValueChanged","onUpdate","viewport","set","x","y","utils","directionEntity","axisEntity","axisXEntity","axisYEntity","axisZEntity","_createAxis","xRotateVector","xTranslateVector","redMaterial","yRotateVector","yTranslateVector","greenMaterial","zRotateVector","zTranslateVector","blueMaterial","endEntity","endXEntity","endYEntity","endZEntity","_createEnd","xEndTranslateVector","Color","yEndTranslateVector","zEndTranslateVector","endNegativeXEntity","endNegativeYEntity","endNegativeZEntity","negate","greyMaterial","sphereEntity","radius","sphereCollider","StaticCollider","sphereColliderShape","SphereColliderShape","addShape","roundEntity","roundRenderer","MeshRenderer","receiveShadows","castShadows","mesh","bgMesh","setMaterial","bgMaterial","isActive","_sphereScript","SphereScript","rotation","material","setRotation","z","axisXRenderer","axisMesh","axisName","fontColor","colliderShape","endRadius","renderEntity","axisRenderer","endMesh","textEntity","axisXTextRenderer","TextRenderer","font","Font","createFromOS","text","fontStyle","FontStyle","Bold","fontSize","color","copyFrom","horizontalAlignment","TextHorizontalAlignment","Center","target","Object","keys","forEach","key","camera","_sceneCamera","sceneCamera","value","Script"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}