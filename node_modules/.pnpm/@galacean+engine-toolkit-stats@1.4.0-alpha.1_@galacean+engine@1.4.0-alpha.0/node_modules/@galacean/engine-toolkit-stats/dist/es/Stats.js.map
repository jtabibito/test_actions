{"version":3,"file":"Stats.js","sources":["../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_set_prototype_of.js","../../../../node_modules/.pnpm/@swc+helpers@0.5.7/node_modules/@swc/helpers/esm/_inherits.js","../../src/Stats.ts"],"sourcesContent":["export function _set_prototype_of(o, p) {\n    _set_prototype_of = Object.setPrototypeOf || function setPrototypeOf(o, p) {\n        o.__proto__ = p;\n\n        return o;\n    };\n\n    return _set_prototype_of(o, p);\n}\nexport { _set_prototype_of as _ };\n","import { _set_prototype_of } from \"./_set_prototype_of.js\";\n\nexport function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n        throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });\n\n    if (superClass) _set_prototype_of(subClass, superClass);\n}\nexport { _inherits as _ };\n","import { Script, Camera } from \"@galacean/engine\";\nimport { hookRequest } from \"./hooks/RequestHook\";\nimport Monitor from \"./Monitor\";\n\n/**\n * Display engine status data such as FPS.\n */\nexport class Stats extends Script {\n  private monitor: Monitor;\n  private camera: Camera;\n\n  static hookRequest() {\n    hookRequest();\n  }\n\n  override set enabled(value: boolean) {\n    value ? this._setupMonitor() : this.monitor.destroy();\n  }\n\n  override onBeginRender(camera: Camera): void {\n    this.camera = camera;\n    if (!this.monitor) {\n      this._setupMonitor();\n    }\n  }\n\n  override onEndRender(camera: Camera): void {\n    if (this.monitor) {\n      this.monitor.update();\n    }\n  }\n\n  private _setupMonitor() {\n    // @ts-ignore\n    const gl = this.camera.engine._hardwareRenderer.gl;\n    if (gl) {\n      this.monitor = new Monitor(gl);\n    }\n  }\n}\n"],"names":["Stats","onBeginRender","camera","monitor","_setupMonitor","onEndRender","update","gl","engine","_hardwareRenderer","Monitor","hookRequest","enabled","value","destroy","Script"],"mappings":";;;;;;;;;;AAAO,SAAS,iBAAiB,CAAC,CAAC,EAAE,CAAC,EAAE;AACxC,IAAI,iBAAiB,GAAG,MAAM,CAAC,cAAc,IAAI,SAAS,cAAc,CAAC,CAAC,EAAE,CAAC,EAAE;AAC/E,QAAQ,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC;AACxB;AACA,QAAQ,OAAO,CAAC,CAAC;AACjB,KAAK,CAAC;AACN;AACA,IAAI,OAAO,iBAAiB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC;;ACNO,SAAS,SAAS,CAAC,QAAQ,EAAE,UAAU,EAAE;AAChD,IAAI,IAAI,OAAO,UAAU,KAAK,UAAU,IAAI,UAAU,KAAK,IAAI,EAAE;AACjE,QAAQ,MAAM,IAAI,SAAS,CAAC,oDAAoD,CAAC,CAAC;AAClF,KAAK;AACL;AACA,IAAI,QAAQ,CAAC,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,UAAU,IAAI,UAAU,CAAC,SAAS,EAAE,EAAE,WAAW,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI,EAAE,EAAE,CAAC,CAAC;AACrJ;AACA,IAAI,IAAI,UAAU,EAAE,iBAAiB,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;AAC5D;;ACNA;;AAEC,IACM,IAAA,KAAMA,iBAAD,SAAL,MAAA,EAAA;AAAMA,IAAAA,SAAAA,CAAAA,KAAAA,EAAAA,MAAAA,CAAAA,CAAAA;AAAAA,IAAAA,SAAAA,KAAAA,GAAAA;;;AAAAA,IAAAA,IAAAA,MAAAA,GAAAA,KAAAA,CAAAA,SAAAA,CAAAA;AAYX,IAAA,MAAA,CAASC,aAKR,GALD,SAASA,aAAAA,CAAcC,MAAc,EAAA;QACnC,IAAI,CAACA,MAAM,GAAGA,MAAAA,CAAAA;AACd,QAAA,IAAI,CAAC,IAAI,CAACC,OAAO,EAAE;AACjB,YAAA,IAAI,CAACC,aAAa,EAAA,CAAA;AACpB,SAAA;AACF,KAAA,CAAA;AAEA,IAAA,MAAA,CAASC,WAIR,GAJD,SAASA,WAAAA,CAAYH,MAAc,EAAA;QACjC,IAAI,IAAI,CAACC,OAAO,EAAE;YAChB,IAAI,CAACA,OAAO,CAACG,MAAM,EAAA,CAAA;AACrB,SAAA;AACF,KAAA,CAAA;IAEA,MAAQF,CAAAA,aAMP,GAND,SAAQA,aAAAA,GAAAA;;QAEN,IAAMG,EAAAA,GAAK,IAAI,CAACL,MAAM,CAACM,MAAM,CAACC,iBAAiB,CAACF,EAAE,CAAA;AAClD,QAAA,IAAIA,EAAI,EAAA;AACN,YAAA,IAAI,CAACJ,OAAO,GAAG,IAAIO,OAAQH,CAAAA,EAAAA,CAAAA,CAAAA;AAC7B,SAAA;AACF,KAAA,CAAA;IA/BWP,KAIJW,CAAAA,WAEN,GAFD,SAAOA,YAAAA,GAAAA;AACLA,QAAAA,WAAAA,EAAAA,CAAAA;AACF,KAAA,CAAA;AANWX,IAAAA,aAAAA,CAAAA,KAAAA,EAAAA;;YAQEY,GAAAA,EAAAA,SAAAA;AAAb,YAAA,GAAA,EAAA,SAAA,GAAA,CAAqBC,KAAc,EAAA;gBACjCA,KAAQ,GAAA,IAAI,CAACT,aAAa,EAAA,GAAK,IAAI,CAACD,OAAO,CAACW,OAAO,EAAA,CAAA;AACrD,aAAA;;;AAVWd,IAAAA,OAAAA,KAAAA,CAAAA;EAAce,MAgC1B;;;;","x_google_ignoreList":[0,1]}